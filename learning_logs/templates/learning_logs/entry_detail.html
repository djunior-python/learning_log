{% extends 'learning_logs/base.html' %}

{% block page_header %}
    <h3>{{ topic }}</h3>
{% endblock page_header %}

{% block content %}
    <p>
        <a href="{% url 'learning_logs:topic' entry.topic.id %}">&laquo; Back to topic</a>
    </p>

    <div class="card mb-3">
        <h4 class="card-header">
            {{ entry.date_added|date:'M d, Y, H:i' }}
            {% if topic.owner == user %}
                <small><a href="{% url 'learning_logs:edit_entry' entry.id %}">edit entry &raquo;</a></small>
                <small><a href="{% url 'learning_logs:delete_entry' entry.id %}"> delete entry &raquo;</a></small>
            {% endif %}
        </h4>
        <div class="card-body">
            {{ entry.text|linebreaks }}
        </div>
    </div>

    {% if entry.image %}
        <div class="mb-3">
            <h5>Attached image:</h5>
            <img src="{{ entry.image.url }}" alt="Image" style="max-width: 400px;" class="img-thumbnail">
        </div>
    {% endif %}

    {% if entry.file %}
        <div>
            <h5>Attached file:</h5>
            <a href="{{ entry.file.url }}" download>{{ entry.file.name|cut:"files/" }}</a>
        </div>
    {% endif %}
{% endblock content %}